.tableWrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* ── Column template (10 columns) ── */
/* Pair | Bid | Ask | Spread | Chg% | Open | High | Low | Close | Updated */

/* ── Header ── */
.header {
  display: grid;
  grid-template-columns:
    minmax(170px, 1.3fr)
    minmax(88px, 1fr)
    minmax(88px, 1fr)
    minmax(72px, 0.7fr)
    minmax(140px, 1.3fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(76px, 0.7fr);
  gap: var(--spacing-4);
  padding: var(--spacing-12) var(--spacing-24);
  border-bottom: 1px solid var(--color-border-subtle);
  font-size: var(--typography-size-2xs);
  font-weight: var(--typography-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-ink-400);
  white-space: nowrap;
  align-items: center;
  background: linear-gradient(
    180deg,
    var(--color-surface-2) 0%,
    var(--color-surface-2) 85%,
    rgba(var(--color-border-subtle-rgb), 0.15) 100%
  );
}

.headerSep {
  border-left: 1px solid rgba(var(--color-border-subtle-rgb), 0.4);
  padding-left: var(--spacing-8);
}

.headerOhlc {
  background: rgba(var(--color-ink-900-rgb), 0.02);
}

.cellSep {
  border-left: 1px solid rgba(var(--color-border-subtle-rgb), 0.4);
  padding-left: var(--spacing-8);
}

/* ── Body ── */
.body {
  display: flex;
  flex-direction: column;
}

/* ── Row ── */
.row {
  display: grid;
  grid-template-columns:
    minmax(170px, 1.3fr)
    minmax(88px, 1fr)
    minmax(88px, 1fr)
    minmax(72px, 0.7fr)
    minmax(140px, 1.3fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(84px, 0.9fr)
    minmax(76px, 0.7fr);
  gap: var(--spacing-4);
  padding: var(--spacing-12) var(--spacing-24);
  border-bottom: 1px solid rgba(var(--color-border-subtle-rgb), 0.6);
  align-items: center;
  transition: background var(--motion-duration-100) var(--motion-easing-standard);
  cursor: default;
}

.row:last-child {
  border-bottom: none;
}

.row:hover {
  background: var(--table-rowHover);
}

/* ── Drag handle ── */
.dragHandle {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  cursor: grab;
  padding: var(--spacing-6) var(--spacing-4);
  border-radius: var(--radius-4);
  color: var(--color-ink-200);
  transition: color var(--motion-duration-100) var(--motion-easing-standard);
  flex-shrink: 0;
}

.dragHandle:hover {
  color: var(--color-ink-400);
}

.dragHandle:active {
  cursor: grabbing;
}

.gripDots {
  display: grid;
  grid-template-columns: repeat(2, 3px);
  gap: var(--spacing-2);
}

.gripDot {
  width: 3px;
  height: 3px;
  border-radius: var(--radius-full);
  background: currentColor;
}

/* ── Dragging states ── */
.rowDragging {
  opacity: 0.4;
  background: var(--color-surface-2);
}

.rowDragOver {
  border-top: 2px solid var(--color-brand-400);
}

/* ── Currency pair cell ── */
.pairCell {
  display: flex;
  align-items: center;
  gap: var(--spacing-8);
}

.pairFlag {
  font-size: var(--typography-size-2xl);
  line-height: 1;
  filter: saturate(0.85);
}

.pairInfo {
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.pairName {
  font-size: var(--typography-size-sm);
  font-weight: var(--typography-weight-semibold);
  color: var(--color-ink-900);
  letter-spacing: -0.01em;
  line-height: 1.3;
}

.pairMarket {
  font-size: var(--typography-size-2xs);
  font-weight: var(--typography-weight-medium);
  color: var(--color-ink-400);
  line-height: 1.3;
  text-transform: capitalize;
}

/* ── Price columns (Bid / Ask) ── */
.priceCol {
  font-family: var(--typography-fontFamily-mono);
  font-size: var(--typography-size-sm);
  font-weight: var(--typography-weight-semibold);
  color: var(--color-ink-900);
  position: relative;
  letter-spacing: -0.02em;
}

.priceCol > span {
  display: inline-block;
  padding: var(--spacing-4) var(--spacing-6);
  border-radius: var(--radius-4);
  will-change: background-color, transform;
}

/* ── Spread ── */
.spreadCol {
  font-family: var(--typography-fontFamily-mono);
  font-size: var(--typography-size-xs);
  font-weight: var(--typography-weight-medium);
  color: var(--color-ink-400);
  letter-spacing: -0.01em;
}

/* ── Change ── */
.changeCol {
  display: flex;
  align-items: center;
  gap: var(--spacing-4);
  font-family: var(--typography-fontFamily-mono);
  font-size: var(--typography-size-xs);
  font-weight: var(--typography-weight-semibold);
  letter-spacing: -0.01em;
}

.changePositive {
  color: var(--color-semantic-success-600);
}

.changeNegative {
  color: var(--color-semantic-danger-600);
}

.changeArrow {
  font-size: 8px;
  line-height: 1;
}

.changePct {
  opacity: 0.75;
  white-space: nowrap;
}

/* ── OHLC columns ── */
.ohlcCol {
  font-family: var(--typography-fontFamily-mono);
  font-size: var(--typography-size-xs);
  font-weight: var(--typography-weight-medium);
  color: var(--color-ink-600);
  letter-spacing: -0.02em;
}

/* ── Timestamp ── */
.timeCol {
  font-family: var(--typography-fontFamily-mono);
  font-size: var(--typography-size-xs);
  font-weight: var(--typography-weight-medium);
  color: var(--color-ink-400);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

/* ── Flash animations ── */
@keyframes flashUpAnim {
  0% {
    background-color: rgba(var(--color-semantic-success-600-rgb), 0.28);
    color: var(--color-semantic-success-700);
    transform: scale(1.02);
    box-shadow: 0 0 8px rgba(var(--color-semantic-success-600-rgb), 0.15);
  }
  40% {
    background-color: rgba(var(--color-semantic-success-600-rgb), 0.12);
    transform: scale(1);
    box-shadow: none;
  }
  100% {
    background-color: transparent;
    color: inherit;
    transform: scale(1);
  }
}

@keyframes flashDownAnim {
  0% {
    background-color: rgba(var(--color-semantic-danger-600-rgb), 0.28);
    color: var(--color-semantic-danger-700);
    transform: scale(1.02);
    box-shadow: 0 0 8px rgba(var(--color-semantic-danger-600-rgb), 0.15);
  }
  40% {
    background-color: rgba(var(--color-semantic-danger-600-rgb), 0.12);
    transform: scale(1);
    box-shadow: none;
  }
  100% {
    background-color: transparent;
    color: inherit;
    transform: scale(1);
  }
}

.flashUp {
  animation: flashUpAnim var(--motion-duration-800) var(--motion-easing-decel);
}

.flashDown {
  animation: flashDownAnim var(--motion-duration-800) var(--motion-easing-decel);
}

/* ── Empty state ── */
.empty {
  padding: var(--spacing-48) var(--spacing-24);
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-8);
  animation: fadeIn var(--motion-duration-320) var(--motion-easing-emphasized);
}

.emptyIcon {
  color: var(--color-ink-300);
  margin-bottom: var(--spacing-8);
}

.emptyTitle {
  font-size: var(--typography-size-md);
  font-weight: var(--typography-weight-medium);
  color: var(--color-ink-500);
  margin: 0;
}

.emptyHint {
  font-size: var(--typography-size-sm);
  color: var(--color-ink-400);
  margin: 0;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ── Reduced motion ── */
@media (prefers-reduced-motion: reduce) {
  .flashUp,
  .flashDown {
    animation: none;
  }

  .empty {
    animation: none;
  }
}

/* ── Responsive: tablet — hide OHLC, keep core columns ── */
@media (max-width: 1100px) {
  .header,
  .row {
    grid-template-columns:
      minmax(160px, 1.4fr)
      minmax(80px, 1fr)
      minmax(80px, 1fr)
      minmax(60px, 0.7fr)
      minmax(130px, 1.2fr)
      minmax(72px, 0.7fr);
  }

  .ohlcCol {
    display: none;
  }
}

/* ── Responsive: mobile — minimal 2-col ── */
@media (max-width: 640px) {
  .header {
    display: none;
  }

  .row {
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-8);
    padding: var(--spacing-16);
  }

  .ohlcCol,
  .timeCol,
  .dragHandle,
  .spreadCol {
    display: none;
  }
}
